{"name":"Sparrow","tagline":"Define your request and response JSON format with a Rack middleware! ","body":"# Sparrow\r\n\r\nA Rack middleware for converting the params keys and JSON response keys of a Rack application.\r\n\r\n[![Build Status](https://travis-ci.org/GateprotectGmbH/sparrow.svg?branch=master)](https://travis-ci.org/GateprotectGmbH/sparrow) [![Gem Version](https://badge.fury.io/rb/cp-sparrow.svg)](http://badge.fury.io/rb/cp-sparrow)\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'cp-sparrow', require: 'sparrow'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install cp-sparrow\r\n\r\n## Usage\r\n\r\nIf you're using Rails, that's it. You haven't to do anything more. If you're not using Rails, you will have to add to your config.ru:\r\n\r\n```rb\r\nrequire 'sparrow'\r\n\r\nuse Sparrow::Middleware\r\n```\r\n\r\n## Configuration\r\n\r\nThere are various configuration options as well as HTTP headers available to\r\nmake the middleware act as you want it to.\r\n\r\nin your configuration file (such as application.rb if you are using Rails)\r\n\r\n```ruby\r\nSparrow.configure do |config|\r\n  config.excluded_routes = [\r\n    Regexp.new('api/model/certificates')\r\n  ]\r\nend\r\n```\r\n\r\nOptions may be:\r\n\r\n### excluded_routes\r\n\r\n> Array(String|Regexp)\r\n\r\nAn Array of Strings and/or Regexps defining which paths should not be touched by the middleware. The entries should matchs paths for your application. They should *not* start with a leading slash.\r\n\r\nExample:\r\n> `config.excluded_routes = ['api/model/certificates']`\r\n\r\n\r\n### default_json_request_key_transformation_strategy\r\n\r\n> String\r\n\r\nDefines how the middleware should treat incoming parameters via Request. Which means how they get tranformed, i.e. defining _underscore_ here means that incoming parameters get underscore. Possible values are _underscore_ and _camelize_\r\n\r\nExample:\r\n>`config.default_json_request_key_transformation_strategy = \"underscore\"`\r\n\r\n### default_json_response_key_transformation_strategy\r\n\r\n> String\r\n\r\nSame as **default_json_request_key_transformation_strategy**, but for responses. I.e. this defines to which format the keys get transformed when the response gets sent.\r\n\r\nExample:\r\n>`config.default_json_response_key_transformation_strategy = \"camelize\"`\r\n\r\n### json_request_format_header\r\n\r\n> String\r\n\r\nDefines the HTTP Header key which sets the request transformation strategy as in default_json_request_key_transformation_strategy*. This definition has higher priority than the default definition. Any valid HTTP Header String value is possible. Defaults to `request-json-format`.\r\n\r\nExample:\r\n> `config.json_request_format_header = \"request-json-format\"`\r\n\r\n\r\n### json_response_format_header\r\n\r\n> String\r\n\r\nSame as **json_request_format_header**, but for the response handling. Defaults to `response-json-format`\r\n\r\nExample:\r\n> `config.json_response_format_header = \"response-json-format\"`\r\n\r\n### camelize_ignore_uppercase_keys\r\n\r\n> Boolean\r\n\r\nA boolean that indicates to not camelize keys that are all Uppercase, like CountryCodes \"EN\", etc.\r\n\r\nExample:\r\n> `config.camelize_ignore_uppercase_keys = true `\r\n\r\n### allowed_content_types\r\n\r\n> Array(String)\r\n\r\nA list of HTTP content types upon which the middleware shall trigger and possibly start  conversion. Defaults to `['application/json', 'application/x-www-form-urlencoded', 'text/x-json']`. If `nil` is present in the list, requests/responses with *no* Content-Type header will be processed as well. Possible values can also be the start of the content-type-header like ```application/``` which matches everything that starts with ```application/``` like ```application/json```\r\n\r\nExample:\r\n> `config.allowed_content_types = ['application/json', 'text/x-json']`\r\n\r\n### allowed_accepts\r\n\r\n> Array(String)\r\n\r\nSame as [allowed_content_types], but reacts to the HTTP Accept Header. Applies to the same possible options, behavior. Defaults to the same set of MIME types, but also includes `nil` by default, which ignores checking the Accept header in default configuration\r\n\r\nExample:\r\n> `config.allowed_accepts = ['application/json', 'text/x-json']`\r\n\r\n### enable_logging\r\n\r\n> Boolean\r\n\r\nDetermines logging while the middleware is active. Primary output is which conversion strategy gets chosen upon which request/response.\r\n\r\nExample:\r\n> `config.enable_logging = true`\r\n\r\n## Tests\r\n\r\nJust run `rake` and you are off to go. This runs the whole suite including\r\nspecs for unit- & integrationtests for Rails and Rack including different versions of Rails.\r\n\r\nIf you want to test a specific version of Rails:\r\n\r\n```\r\nexport RAILS_VERSION=3.2.17; bundle update; bundle exec rspec\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}